<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!--引入css-->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css">

    <!--引入JavaScript-->
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
</head>
<body>
<table id="example" class="display" cellspacing="0" width="100%">
    <thead>
    <tr>
        <th>列1</th>
        <th>列2</th>
        <th>列3</th>
        <th>列4</th>
    </tr>
    </thead>
</table>
<script type="text/javascript">

    var myTable;
    $(document).ready(function () {

        myTable = $('#example').DataTable({
            "processing": true,//刷新的那个对话框
            "serverSide": true,//服务器端获取数据
            "paging": true,//开启分页
            lengthMenu: [ //自定义分页长度
                [5, 10, 20],
                ['5 页', '10 页', '20页']
            ],
            ordering: false,
            "ajax": {
                "url": "/test/list",
                "type": "POST",
                "data": function (d) {
                    //删除多余请求参数
                    for (var key in d) {
                        if (key.indexOf("columns") == 0 || key.indexOf("order") == 0 || key.indexOf("search") == 0) { //以columns开头的参数删除
                            delete d[key];
                        }
                    }
                    //请求参数
                    var searchParams = {
                        "param1": 1,
                        "param2": 2,
                        "param3": 3

                    };
                    //附加查询参数
                    if (searchParams) {
                        $.extend(d, searchParams); //给d扩展参数
                    }
                },
                "dataType": "json",
                "dataFilter": function (json) {//json是服务器端返回的数据
                    json = JSON.parse(json);
                    var returnData = {};
                    returnData.draw = json.draw;
                    returnData.recordsTotal = json.total;//返回数据全部记录
                    returnData.recordsFiltered = json.total;//后台不实现过滤功能，每次查询均视作全部结果
                    returnData.data = json.data;//返回的数据列表
                    return JSON.stringify(returnData);//这几个参数都是datatable需要的，必须要
                }
            },
            "searching": false,
            "columns": [
                {"data": "column1"},
                {"data": "column2"},
                {"data": "column3"},
                {"data": "column4"}
            ],
            "oLanguage": { // 国际化配置
                "sProcessing": "正在获取数据，请稍后...",
                "sLengthMenu": "显示 _MENU_ 条",
                "sZeroRecords": "没有找到数据",
                "sInfo": "从 _START_ 到  _END_ 条记录 总记录数为 _TOTAL_ 条",
                "sInfoEmpty": "记录数为0",
                "sInfoFiltered": "(全部记录数 _MAX_ 条)",
                "sInfoPostFix": "",
                "sSearch": "查询",
                "sUrl": "",
                "oPaginate": {
                    "sFirst": "第一页",
                    "sPrevious": "上一页",
                    "sNext": "下一页",
                    "sLast": "最后一页"
                }
            }
        });

    });
</script>

</body>
</html>